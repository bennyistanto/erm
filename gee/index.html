
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Extreme rainfall monitoring, will it trigger a flood?">
      
      
      
        <link rel="canonical" href="https://bennyistanto.github.io/erm/gee/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.4">
    
    
      
        <title>Google Earth Engine - Extreme rainfall monitoring</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6b80c2a2.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-8V6EDJKQ3M"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-8V6EDJKQ3M",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-8V6EDJKQ3M",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#google-earth-engine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Extreme rainfall monitoring" class="md-header__button md-logo" aria-label="Extreme rainfall monitoring" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Extreme rainfall monitoring
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Google Earth Engine
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bennyistanto/erm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bennyistanto/erm
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Extreme rainfall monitoring" class="md-nav__button md-logo" aria-label="Extreme rainfall monitoring" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Extreme rainfall monitoring
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bennyistanto/erm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bennyistanto/erm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        Revision History
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Overview" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hd/" class="md-nav__link">
        Hydrometeorological Disasters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rsp/" class="md-nav__link">
        Remote Sensing Precipitation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        Data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Methodology
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Methodology" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Methodology
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../eit/" class="md-nav__link">
        Developing event-identification threshold
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rof/" class="md-nav__link">
        Find areas at risk of flooding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../impact/" class="md-nav__link">
        Impact analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../eaq/" class="md-nav__link">
        Evaluating alert quality
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nlc/" class="md-nav__link">
        Novelty, limitation and constraint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../case/" class="md-nav__link">
        Example case
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          How-to?
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How-to?" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          How-to?
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pre/" class="md-nav__link">
        Pre-downloaded and processed data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../imerg/" class="md-nav__link">
        Acquire IMERG data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gefs/" class="md-nav__link">
        Acquire GEFS data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../erc/" class="md-nav__link">
        Extreme rainfall calculation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Implementation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Implementation" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Implementation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Google Earth Engine
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Google Earth Engine
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#global-variable" class="md-nav__link">
    Global variable
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-input" class="md-nav__link">
    Main input
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#calling-the-assets" class="md-nav__link">
    Calling the assets
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-to-grab-rainfall-data" class="md-nav__link">
    Function to grab rainfall data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extreme-rainfall-analysis" class="md-nav__link">
    Extreme rainfall analysis
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rendering-process" class="md-nav__link">
    Rendering process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#population-and-cropland-affected" class="md-nav__link">
    Population and cropland affected
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#panel-configuration" class="md-nav__link">
    Panel configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-downloads" class="md-nav__link">
    Data Downloads
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example/" class="md-nav__link">
        Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../demo/" class="md-nav__link">
        Demo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Development Plan
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development Plan" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Development Plan
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../devplan/" class="md-nav__link">
        Summary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ls/" class="md-nav__link">
        Landslide monitoring and early warning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runoff/" class="md-nav__link">
        Surface runoff accumulation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <a href="https://github.com/bennyistanto/erm/edit/master/docs/gee.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="google-earth-engine">Google Earth Engine</h1>
<p>Below is the example on how we translate all the process in GEE platform.</p>
<h2 id="global-variable">Global variable</h2>
<p>First we need to declare the global variable like basemap and color codes. As the ERM result is colorful, it's better to use Grey Style basemap so the map result will clearly visible.</p>
<p>ERM will produce 4 outputs:</p>
<ul>
<li>Rainfall</li>
<li>Rainfall exceeding the threshold</li>
<li>Likelihood of triggering flood</li>
<li>Extreme rainfall triggering a flood (Flood Alert)</li>
</ul>
<p>And impact analysis on</p>
<ul>
<li>Number of affected population per alert category</li>
<li>Number of affected cropland per alert category</li>
</ul>
<p>And each output will visualize with different classification.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  1 "></span><span class="c1">// GLOBAL VARIABLE (Basemap, Color, Static Data, Mask and others)</span><span class="w"></span>
<span class="linenos" data-linenos="  2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos="  3 "></span><span class="c1">// ui Map and Panel configuration</span><span class="w"></span>
<span class="linenos" data-linenos="  4 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">mainMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nb">Map</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="  5 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">uiComponents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w"></span>
<span class="linenos" data-linenos="  6 "></span>
<span class="linenos" data-linenos="  7 "></span><span class="c1">// MAP STYLE</span><span class="w"></span>
<span class="linenos" data-linenos="  8 "></span><span class="c1">//--</span><span class="w"></span>
<span class="linenos" data-linenos="  9 "></span><span class="c1">// Grey style from https://developers.google.com/maps/documentation/javascript/examples/style-selector</span><span class="w"></span>
<span class="linenos" data-linenos=" 10 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">mapStyle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 11 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 12 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 13 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 14 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#f5f5f5&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 15 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 16 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 17 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.icon&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 18 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">visibility</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 19 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 20 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 21 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 22 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#616161&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 23 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 24 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 25 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.stroke&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 26 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#f5f5f5&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 27 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 28 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 29 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;administrative.land_parcel&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 30 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 31 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#bdbdbd&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 32 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 33 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 34 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;poi&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 35 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 36 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#eeeeee&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 37 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 38 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 39 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;poi&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 40 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 41 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#757575&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 42 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 43 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 44 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;poi.park&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 45 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 46 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#e5e5e5&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 47 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 48 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 49 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;poi.park&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 50 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 51 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#9e9e9e&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 52 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 53 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 54 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;road&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 55 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 56 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#ffffff&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 57 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 58 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 59 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;road.arterial&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 60 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 61 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#757575&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 62 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 63 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 64 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;road.highway&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 65 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 66 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#dadada&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 67 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 68 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 69 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;road.highway&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 70 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 71 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#616161&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 72 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 73 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 74 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;road.local&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 75 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 76 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#9e9e9e&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 77 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 78 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 79 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;transit.line&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 80 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 81 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#e5e5e5&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 82 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 83 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 84 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;transit.station&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 85 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 86 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#eeeeee&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 87 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 88 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 89 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;water&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 90 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 91 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#c9c9c9&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 92 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 93 "></span><span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 94 "></span><span class="w">      </span><span class="nx">featureType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;water&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 95 "></span><span class="w">      </span><span class="nx">elementType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;labels.text.fill&quot;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 96 "></span><span class="w">      </span><span class="nx">stylers</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;#9e9e9e&quot;</span><span class="w"> </span><span class="p">}],</span><span class="w"></span>
<span class="linenos" data-linenos=" 97 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 98 "></span><span class="w">  </span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos=" 99 "></span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="100 "></span>
<span class="linenos" data-linenos="101 "></span><span class="c1">// Grey basemap</span><span class="w"></span>
<span class="linenos" data-linenos="102 "></span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">style</span><span class="p">().</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;cursor&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;crosshair&#39;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="103 "></span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="s1">&#39;Grey&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Grey</span><span class="o">:</span><span class="w"> </span><span class="nx">mapStyle</span><span class="p">()</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="104 "></span>
<span class="linenos" data-linenos="105 "></span><span class="c1">// SYMBOLOGY</span><span class="w"></span>
<span class="linenos" data-linenos="106 "></span><span class="c1">// Visualization palette, Color-codes based on Color-Brewer https://colorbrewer2.org/</span><span class="w"></span>
<span class="linenos" data-linenos="107 "></span><span class="c1">// Standard symbology for rainfall</span><span class="w"></span>
<span class="linenos" data-linenos="108 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">visRainfall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="109 "></span><span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="p">,</span><span class="w"> </span><span class="nx">opacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="110 "></span><span class="w">    </span><span class="s1">&#39;cccccc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;f9f3d5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dce2a8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a8c58d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;77a87d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ace8f8&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="111 "></span><span class="w">    </span><span class="s1">&#39;4cafd9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1d5ede&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;001bc0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;9131f1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;e983f3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;f6c7ec&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="112 "></span><span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="113 "></span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="114 "></span><span class="c1">// Standard symbology for extreme rainfall class</span><span class="w"></span>
<span class="linenos" data-linenos="115 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">visExtreme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="116 "></span><span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="nx">opacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="117 "></span><span class="w">    </span><span class="s1">&#39;ffffcc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a1dab4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;41b6c4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;225ea8&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="118 "></span><span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="119 "></span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="120 "></span><span class="c1">// Standard symbology for likelihood of flooding</span><span class="w"></span>
<span class="linenos" data-linenos="121 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">visLikelihood</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="122 "></span><span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="nx">opacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="123 "></span><span class="w">    </span><span class="s1">&#39;f7fcb9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;addd8e&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;31a354&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="124 "></span><span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="125 "></span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="126 "></span><span class="c1">// Standard symbology for extreme rainfall triggering flood alert class</span><span class="w"></span>
<span class="linenos" data-linenos="127 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">visFlood</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="128 "></span><span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">9</span><span class="p">,</span><span class="w"> </span><span class="nx">opacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="129 "></span><span class="w">    </span><span class="s1">&#39;97D700&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FFEDA0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FFEDA0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FFEDA0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FEB24C&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FEB24C&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="130 "></span><span class="w">    </span><span class="s1">&#39;FEB24C&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;F03B20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;F03B20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;F03B20&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="131 "></span><span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="132 "></span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="133 "></span><span class="c1">// Standard symbology for population exposed</span><span class="w"></span>
<span class="linenos" data-linenos="134 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">visPopulation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="135 "></span><span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">50.0</span><span class="p">,</span><span class="w"> </span><span class="nx">opacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="136 "></span><span class="w">  </span><span class="nx">palette</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="137 "></span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="138 "></span>
<span class="linenos" data-linenos="139 "></span><span class="c1">// Define an SLD style of discrete intervals to apply to the image.</span><span class="w"></span>
<span class="linenos" data-linenos="140 "></span><span class="c1">// Notes: SLD visualisation will make the data rendered as RGB during point inspector into a pixel.</span><span class="w"></span>
<span class="linenos" data-linenos="141 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">visRainfallSLD</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="linenos" data-linenos="142 "></span><span class="w">  </span><span class="s1">&#39;&lt;RasterSymbolizer&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="143 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMap  type=&quot;ramp&quot; extended=&quot;false&quot; &gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="144 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#ffffff&quot; opacity=&quot;0.0&quot; quantity=&quot;1&quot; label=&quot;No Rain&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="145 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#cccccc&quot; opacity=&quot;0.7&quot; quantity=&quot;3&quot; label=&quot;1-3&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="146 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#f9f3d5&quot; opacity=&quot;0.7&quot; quantity=&quot;10&quot; label=&quot;4-10&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="147 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#dce2a8&quot; opacity=&quot;0.7&quot; quantity=&quot;20&quot; label=&quot;11-20&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="148 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#a8c58d&quot; opacity=&quot;0.7&quot; quantity=&quot;30&quot; label=&quot;21-30&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="149 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#77a87d&quot; opacity=&quot;0.7&quot; quantity=&quot;40&quot; label=&quot;31-40&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="150 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#ace8f8&quot; opacity=&quot;0.7&quot; quantity=&quot;60&quot; label=&quot;41-60&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="151 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#4cafd9&quot; opacity=&quot;0.7&quot; quantity=&quot;80&quot; label=&quot;61-80&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="152 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#1d5ede&quot; opacity=&quot;0.7&quot; quantity=&quot;100&quot; label=&quot;81-100&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="153 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#001bc0&quot; opacity=&quot;0.7&quot; quantity=&quot;120&quot; label=&quot;101-120&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="154 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#9131f1&quot; opacity=&quot;0.7&quot; quantity=&quot;150&quot; label=&quot;121-150&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="155 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#e983f3&quot; opacity=&quot;0.7&quot; quantity=&quot;200&quot; label=&quot;151-200&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="156 "></span><span class="w">  </span><span class="s1">&#39;&lt;ColorMapEntry color=&quot;#f6c7ec&quot; opacity=&quot;0.7&quot; quantity=&quot;1000&quot; label=&quot;&amp;gt; 200&quot; /&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="157 "></span><span class="w">  </span><span class="s1">&#39;&lt;/ColorMap&gt;&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="158 "></span><span class="w">  </span><span class="s1">&#39;&lt;/RasterSymbolizer&gt;&#39;</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<h2 id="main-input">Main input</h2>
<p>All of the data required by ERM is available for global coverage, and the focus for ERM is only for Indonesia. Then we need to have a layer as a Masked for Indonesia. The file is available via assets: <code>users/bennyistanto/datasets/raster/extremerainfall/mask/idn_bnd_imerg_subset</code></p>
<p>We will use Masked layer to clip all of the main input data:</p>
<ul>
<li>IMERG, for near real-time monitoring</li>
<li>GFS, for forecast simulation</li>
<li>GHSL, for calculate affected population</li>
<li>MODIS MCD12Q1, for calculate affected cropland and urban areas.</li>
</ul>
<p>Currently ERM use GHSL population data to calculate the affected population due to flood. There is a plan to extend the analysis using Facebook HRSL data, so we can get breakdown affected population by age, the we could get number of vulnerable population.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="c1">// MAIN INPUT</span><span class="w"></span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos=" 3 "></span><span class="c1">// Masking image</span><span class="w"></span>
<span class="linenos" data-linenos=" 4 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">maskImage</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imergMask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s1">&#39;users/bennyistanto/datasets/raster/extremerainfall/mask/idn_bnd_imerg_subset&#39;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">imergMask</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 7 "></span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 8 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">idnMask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s1">&#39;users/bennyistanto/datasets/raster/extremerainfall/mask/idn_bnd_imerg_subset&#39;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="c1">// Near Real Time data</span><span class="w"></span>
<span class="linenos" data-linenos="11 "></span><span class="c1">// Import NASA GPM IMERG 30 minute data and calculate accumulation for 1day.</span><span class="w"></span>
<span class="linenos" data-linenos="12 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">imerg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;NASA/GPM_L3/IMERG_V06&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="13 "></span><span class="c1">// Get IMERG projection information</span><span class="w"></span>
<span class="linenos" data-linenos="14 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="nx">imerg</span><span class="p">.</span><span class="nx">first</span><span class="p">()).</span><span class="nx">projection</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="15 "></span>
<span class="linenos" data-linenos="16 "></span><span class="c1">// Forecast data</span><span class="w"></span>
<span class="linenos" data-linenos="17 "></span><span class="c1">// Import GFS data - https://developers.google.com/earth-engine/datasets/catalog/NOAA_GFS0P25</span><span class="w"></span>
<span class="linenos" data-linenos="18 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">gfs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;NOAA/GFS0P25&#39;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="19 "></span>
<span class="linenos" data-linenos="20 "></span><span class="c1">// Population grid</span><span class="w"></span>
<span class="linenos" data-linenos="21 "></span><span class="c1">// Import Global Human Settlement Popluation Density layer (GHSL) data. Resolution: 250. Number of people per cell is given.</span><span class="w"></span>
<span class="linenos" data-linenos="22 "></span><span class="c1">// https://developers.google.com/earth-engine/datasets/catalog/JRC_GHSL_P2016_POP_GPW_GLOBE_V1#bands</span><span class="w"></span>
<span class="linenos" data-linenos="23 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">ghsl_raw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">maskImage</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;JRC/GHSL/P2016/POP_GPW_GLOBE_V1&quot;</span><span class="p">).</span><span class="nx">first</span><span class="p">()).</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;population_count&#39;</span><span class="p">));</span><span class="w"></span>
<span class="linenos" data-linenos="24 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">ghsl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ghsl_raw</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">ghsl_raw</span><span class="p">.</span><span class="nx">gt</span><span class="p">(</span><span class="mf">0</span><span class="p">));</span><span class="w"></span>
<span class="linenos" data-linenos="25 "></span><span class="c1">// Get GHSL projection information</span><span class="w"></span>
<span class="linenos" data-linenos="26 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">GHSLprojection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ghsl</span><span class="p">.</span><span class="nx">projection</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="27 "></span>
<span class="linenos" data-linenos="28 "></span><span class="c1">// MODIS Global Annual Land Cover 500m - year 2019, filter image collection by the most up-to-date MODIS Land Cover product</span><span class="w"></span>
<span class="linenos" data-linenos="29 "></span><span class="c1">// Import Crop extent data - https://developers.google.com/earth-engine/datasets/catalog/MODIS_006_MCD12Q1#bands</span><span class="w"></span>
<span class="linenos" data-linenos="30 "></span><span class="c1">// LC_Type1 using Annual International Geosphere-Biosphere Programme (IGBP) classification</span><span class="w"></span>
<span class="linenos" data-linenos="31 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">mcd12q1_raw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s1">&#39;MODIS/006/MCD12Q1/2019_01_01&#39;</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;LC_Type1&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="32 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">mcd12q1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mcd12q1_raw</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">mcd12q1_raw</span><span class="p">.</span><span class="nx">gt</span><span class="p">(</span><span class="mf">0</span><span class="p">));</span><span class="w"></span>
<span class="linenos" data-linenos="33 "></span><span class="c1">// Get MODIS projection information</span><span class="w"></span>
<span class="linenos" data-linenos="34 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">MODISprojection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mcd12q1_raw</span><span class="p">.</span><span class="nx">projection</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<h2 id="calling-the-assets">Calling the assets</h2>
<p>ERM required some of input (threshold, slope and intercept layer) that already prepared via different platform: ArcGIS Pro, R Statistics, and Excel. All the layer uploaded as GEE assets.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  1 "></span><span class="c1">// Import threshold by pixel that exceeding the Percentile 50, 80, 90 and 96 of rainfall based on 1-day, 2-day,</span><span class="w"></span>
<span class="linenos" data-linenos="  2 "></span><span class="c1">// 3-day, 4-day and 5-days of annual maximum rainfall from 1981 - 2019</span><span class="w"></span>
<span class="linenos" data-linenos="  3 "></span><span class="c1">//</span><span class="w"></span>
<span class="linenos" data-linenos="  4 "></span><span class="c1">// Link to assets https://code.earthengine.google.com/?asset=users/bennyistanto/datasets/raster/extremerainfall/threshold/</span><span class="w"></span>
<span class="linenos" data-linenos="  5 "></span><span class="c1">// Threshold data for 1-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos="  6 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day1_P50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_1day_precipthreshold_q0500_2yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="  7 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day1_P80</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_1day_precipthreshold_q0800_5yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="  8 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day1_P90</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_1day_precipthreshold_q0900_10yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="  9 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day1_P96</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_1day_precipthreshold_q0960_25yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 10 "></span>
<span class="linenos" data-linenos=" 11 "></span><span class="c1">// Threshold data 2-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 12 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day2_P50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_2day_precipthreshold_q0500_2yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 13 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day2_P80</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_2day_precipthreshold_q0800_5yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 14 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day2_P90</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_2day_precipthreshold_q0900_10yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 15 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day2_P96</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_2day_precipthreshold_q0960_25yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 16 "></span>
<span class="linenos" data-linenos=" 17 "></span><span class="c1">// Threshold data 3-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 18 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day3_P50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_3day_precipthreshold_q0500_2yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 19 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day3_P80</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_3day_precipthreshold_q0800_5yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 20 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day3_P90</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_3day_precipthreshold_q0900_10yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 21 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day3_P96</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_3day_precipthreshold_q0960_25yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 22 "></span>
<span class="linenos" data-linenos=" 23 "></span><span class="c1">// Threshold data 4-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 24 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day4_P50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_4day_precipthreshold_q0500_2yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 25 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day4_P80</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_4day_precipthreshold_q0800_5yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 26 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day4_P90</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_4day_precipthreshold_q0900_10yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 27 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day4_P96</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_4day_precipthreshold_q0960_25yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 28 "></span>
<span class="linenos" data-linenos=" 29 "></span><span class="c1">// Threshold data 5-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 30 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day5_P50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_5day_precipthreshold_q0500_2yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 31 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day5_P80</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_5day_precipthreshold_q0800_5yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 32 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day5_P90</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_5day_precipthreshold_q0900_10yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 33 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Day5_P96</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_5day_precipthreshold_q0960_25yr_imerg_wfp&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 34 "></span>
<span class="linenos" data-linenos=" 35 "></span>
<span class="linenos" data-linenos=" 36 "></span><span class="c1">// Import Slope and Intercept for calculating probability based on focal linear regression between rainfall and historical </span><span class="w"></span>
<span class="linenos" data-linenos=" 37 "></span><span class="c1">// flood occurrence. Focal (linear) regression between every 5x5 pixels group of cells of two rasters was done using R.</span><span class="w"></span>
<span class="linenos" data-linenos=" 38 "></span><span class="c1">//</span><span class="w"></span>
<span class="linenos" data-linenos=" 39 "></span><span class="c1">// Link to assets https://code.earthengine.google.com/?asset=users/bennyistanto/datasets/raster/extremerainfall/slope</span><span class="w"></span>
<span class="linenos" data-linenos=" 40 "></span><span class="c1">// Slope data for 1-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 41 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_01_jan_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 42 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_02_feb_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 43 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_03_mar_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 44 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_04_apr_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 45 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_05_may_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 46 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_06_jun_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 47 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_07_jul_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 48 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_08_aug_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 49 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_09_sep_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 50 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_10_oct_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 51 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_11_nov_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 52 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day1_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_12_dec_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 53 "></span>
<span class="linenos" data-linenos=" 54 "></span><span class="c1">// Slope data for 2-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 55 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_01_jan_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 56 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_02_feb_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 57 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_03_mar_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 58 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_04_apr_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 59 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_05_may_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 60 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_06_jun_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 61 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_07_jul_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 62 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_08_aug_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 63 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_09_sep_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 64 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_10_oct_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 65 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_11_nov_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 66 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day2_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day2_12_dec_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 67 "></span>
<span class="linenos" data-linenos=" 68 "></span><span class="c1">// Slope data for 3-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 69 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_01_jan_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 70 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_02_feb_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 71 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_03_mar_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 72 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_04_apr_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 73 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_05_may_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 74 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_06_jun_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 75 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_07_jul_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 76 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_08_aug_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 77 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_09_sep_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 78 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_10_oct_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 79 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_11_nov_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 80 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day3_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day3_12_dec_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 81 "></span>
<span class="linenos" data-linenos=" 82 "></span><span class="c1">// Slope data for 4-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 83 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_01_jan_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 84 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_02_feb_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 85 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_03_mar_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 86 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_04_apr_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 87 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_05_may_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 88 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_06_jun_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 89 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_07_jul_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 90 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_08_aug_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 91 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_09_sep_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 92 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_10_oct_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 93 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_11_nov_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 94 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day4_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day4_12_dec_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 95 "></span>
<span class="linenos" data-linenos=" 96 "></span><span class="c1">// Slope data for 5-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos=" 97 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_01_jan_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 98 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_02_feb_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 99 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_03_mar_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="100 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_04_apr_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="101 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_05_may_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="102 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_06_jun_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="103 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_07_jul_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="104 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_08_aug_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="105 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_09_sep_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="106 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_10_oct_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="107 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_11_nov_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="108 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Slope_Day5_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day5_12_dec_slope_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="109 "></span>
<span class="linenos" data-linenos="110 "></span><span class="c1">// Link to assets https://code.earthengine.google.com/?asset=users/bennyistanto/datasets/raster/extremerainfall/intercept</span><span class="w"></span>
<span class="linenos" data-linenos="111 "></span><span class="c1">// Intercept data for 1-day rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos="112 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_01_jan_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="113 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_02_feb_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="114 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_03_mar_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="115 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_04_apr_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="116 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_05_may_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="117 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_06_jun_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="118 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_07_jul_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="119 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_08_aug_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="120 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_09_sep_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="121 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_10_oct_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="122 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_11_nov_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="123 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day1_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_12_dec_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="124 "></span>
<span class="linenos" data-linenos="125 "></span><span class="c1">// Intercept data for 2-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos="126 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_01_jan_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="127 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_02_feb_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="128 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_03_mar_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="129 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_04_apr_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="130 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_05_may_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="131 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_06_jun_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="132 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_07_jul_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="133 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_08_aug_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="134 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_09_sep_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="135 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_10_oct_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="136 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_11_nov_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="137 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day2_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day2_12_dec_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="138 "></span>
<span class="linenos" data-linenos="139 "></span><span class="c1">// Intercept data for 3-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos="140 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_01_jan_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="141 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_02_feb_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="142 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_03_mar_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="143 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_04_apr_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="144 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_05_may_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="145 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_06_jun_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="146 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_07_jul_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="147 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_08_aug_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="148 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_09_sep_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="149 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_10_oct_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="150 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_11_nov_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="151 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day3_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day3_12_dec_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="152 "></span>
<span class="linenos" data-linenos="153 "></span><span class="c1">// Intercept data for 4-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos="154 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_01_jan_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="155 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_02_feb_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="156 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_03_mar_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="157 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_04_apr_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="158 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_05_may_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="159 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_06_jun_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="160 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_07_jul_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="161 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_08_aug_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="162 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_09_sep_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="163 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_10_oct_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="164 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_11_nov_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="165 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day4_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day4_12_dec_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="166 "></span>
<span class="linenos" data-linenos="167 "></span><span class="c1">// Intercept data for 5-days rainfall accumulation scenario</span><span class="w"></span>
<span class="linenos" data-linenos="168 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_01_jan_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="169 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_02_feb_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="170 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_03_mar_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="171 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_04_apr_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="172 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_05_may_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="173 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_06_jun_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="174 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_07_jul_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="175 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_08_aug_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="176 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_09_sep_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="177 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_10_oct_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="178 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_11_nov_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="179 "></span><span class="kd">var</span><span class="w"> </span><span class="nx">Intercept_Day5_12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day5_12_dec_intercept_imerg&quot;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>As alternative, we could simplify above script to read the assets by write the function for each category. </p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="c1">// FUNCTION</span><span class="w"></span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos=" 3 "></span><span class="c1">// Get Threshold Image</span><span class="w"></span>
<span class="linenos" data-linenos=" 4 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">getThresholdImage</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">    </span><span class="s1">&#39;P50&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;q0500_2yr&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Percentile 50, 2-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="s1">&#39;P80&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;q0800_5yr&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Percentile 80, 5-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="s1">&#39;P90&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;q0900_10yr&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// Percentile 90, 10-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span><span class="s1">&#39;P96&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;q0960_25yr&#39;</span><span class="w"> </span><span class="c1">// Percentile 96, 25-year return period</span><span class="w"></span>
<span class="linenos" data-linenos="10 "></span><span class="w">  </span><span class="p">}[</span><span class="nx">p</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="11 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;users/bennyistanto/datasets/raster/extremerainfall/threshold/idn_cli_&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="12 "></span><span class="w">    </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_precipthreshold_&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="13 "></span><span class="w">    </span><span class="o">+</span><span class="w"> </span><span class="nx">q</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_imerg_wfp&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="14 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="15 "></span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span><span class="c1">// Get Slope Image</span><span class="w"></span>
<span class="linenos" data-linenos="18 "></span><span class="c1">// File and location for Day1 and January: &quot;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day1_01_jan_slope_imerg&quot;</span><span class="w"></span>
<span class="linenos" data-linenos="19 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">getSlopeImage</span><span class="p">(</span><span class="nx">month</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="20 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="21 "></span><span class="w">    </span><span class="s1">&#39;01_jan&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;02_feb&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;03_mar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;04_apr&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;05_may&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;06_jun&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="22 "></span><span class="w">    </span><span class="s1">&#39;07_jul&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;08_aug&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;09_sep&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;10_oct&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;11_nov&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;12_dec&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="23 "></span><span class="w">  </span><span class="p">][</span><span class="nx">month</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="24 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;users/bennyistanto/datasets/raster/extremerainfall/slope/idn_cli_day&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="25 "></span><span class="w">    </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_slope_imerg&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="26 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="27 "></span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="28 "></span>
<span class="linenos" data-linenos="29 "></span><span class="c1">// Get Intercept Image</span><span class="w"></span>
<span class="linenos" data-linenos="30 "></span><span class="c1">// File and location for Day1 and January: &quot;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day1_01_jan_intercept_imerg&quot;</span><span class="w"></span>
<span class="linenos" data-linenos="31 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">getInterceptImage</span><span class="p">(</span><span class="nx">month</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="32 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="33 "></span><span class="w">    </span><span class="s1">&#39;01_jan&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;02_feb&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;03_mar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;04_apr&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;05_may&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;06_jun&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="34 "></span><span class="w">    </span><span class="s1">&#39;07_jul&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;08_aug&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;09_sep&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;10_oct&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;11_nov&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;12_dec&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="35 "></span><span class="w">  </span><span class="p">][</span><span class="nx">month</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="36 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;users/bennyistanto/datasets/raster/extremerainfall/intercept/idn_cli_day&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="37 "></span><span class="w">    </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_intercept_imerg&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="38 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="39 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="function-to-grab-rainfall-data">Function to grab rainfall data</h2>
<p>Next is creating function to get near real-time data using IMERG and forecast data using GFS. We will have scenario from last 5-days and up to 5-days ahead based on selected date. So we need to prepare rainfall accumulation for both scenario.</p>
<p>Below is a  function to get near real-time</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="c1">// Get near real-time data (IMERG Image)</span><span class="w"></span>
<span class="linenos" data-linenos=" 2 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">getImergImage</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">  </span><span class="c1">// 24 ~ 1day. To get previous data I used negative value</span><span class="w"></span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">hours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">24</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">numday</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">imerg</span><span class="w"> </span><span class="c1">// ee.ImageCollection(&#39;NASA/GPM_L3/IMERG_V06&#39;)</span><span class="w"></span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;precipitationCal&#39;</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="nx">hours</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;hour&#39;</span><span class="p">),</span><span class="w"> </span><span class="nx">dt</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">maskImage</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos="10 "></span><span class="w">    </span><span class="p">.</span><span class="nx">sum</span><span class="p">().</span><span class="kr">float</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="11 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>And this is a function to get a forecast data</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="c1">// Get forecast data (GFS Image)</span><span class="w"></span>
<span class="linenos" data-linenos=" 2 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">getGfsImage</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">  </span><span class="c1">// Grab forecast data for hours 6,12,18,24 (Day1) 30,36,42,48 (Day2) 54,60,66,72 (Day3) </span><span class="w"></span>
<span class="linenos" data-linenos=" 4 "></span><span class="w">  </span><span class="c1">// 78,84,90,96 (Day4) 102,108,114 and 120 (Day5) </span><span class="w"></span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">hours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span><span class="w"></span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">numday</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">4</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">24</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">((</span><span class="nx">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">6</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">      </span><span class="nx">hours</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">h</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="10 "></span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="11 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">gfs</span><span class="w"> </span><span class="c1">// ee.ImageCollection(&#39;NOAA/GFS0P25&#39;)</span><span class="w"></span>
<span class="linenos" data-linenos="14 "></span><span class="w">    </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;total_precipitation_surface&#39;</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos="15 "></span><span class="w">    </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">dt</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mf">6</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;hour&#39;</span><span class="p">))</span><span class="w"></span>
<span class="linenos" data-linenos="16 "></span><span class="w">    </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">inList</span><span class="p">(</span><span class="s1">&#39;forecast_hours&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">hours</span><span class="p">))</span><span class="w"></span>
<span class="linenos" data-linenos="17 "></span><span class="w">    </span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">maskImage</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos="18 "></span><span class="w">    </span><span class="p">.</span><span class="nx">sum</span><span class="p">()</span><span class="w"></span>
<span class="linenos" data-linenos="19 "></span><span class="w">    </span><span class="c1">// .resample(&#39;bicubic&#39;) // One of &#39;bilinear&#39; or &#39;bicubic&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="20 "></span><span class="w">    </span><span class="p">.</span><span class="nx">reproject</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="21 "></span><span class="w">      </span><span class="nx">crs</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">atScale</span><span class="p">(</span><span class="mf">11131.949079327358</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos="22 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="23 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="extreme-rainfall-analysis">Extreme rainfall analysis</h2>
<p>And the next script is the main analysis, computing extreme rainfall. It consist of many sub analysis:</p>
<ul>
<li>Getting all input together</li>
<li>Extract a pixel of rainfall exceeding the threshold, called as impact</li>
<li>Calculate the likelihood a pixel of rainfall will trigger a flood or not</li>
<li>Classify the likelihood: Low 0 - 0.6, Moderate 0.6 - 0.8, High 0.8 - 1</li>
<li>Calculate extreme rainfall-triggering flood (ERTF)</li>
<li>Creating matrix 3x4, the source came from impact and likelihood</li>
<li>Re class matrix into 3 class</li>
<li>Final product from single run</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  1 "></span><span class="c1">// EXTREME RAINFALL ANALYSIS</span><span class="w"></span>
<span class="linenos" data-linenos="  2 "></span><span class="c1">//----</span><span class="w"></span>
<span class="linenos" data-linenos="  3 "></span><span class="c1">// Get images for rainfall accumulation, extreme rainfall, probability and the alert</span><span class="w"></span>
<span class="linenos" data-linenos="  4 "></span><span class="c1">// Base image can be from IMERG or GFS</span><span class="w"></span>
<span class="linenos" data-linenos="  5 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">getRainfallExtremeImage</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="  6 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="  7 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">numday</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="  8 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgBase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">imgBase</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="  9 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">rainfallColumn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">.</span><span class="nx">rainfallColumn</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 10 "></span><span class="w">  </span><span class="c1">// Get month information to match data for Threshold, Slope and Intercept</span><span class="w"></span>
<span class="linenos" data-linenos=" 11 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dt</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;month&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos=" 12 "></span>
<span class="linenos" data-linenos=" 13 "></span><span class="w">  </span><span class="c1">// Get data for Threshold, Slope and Intercept based on date</span><span class="w"></span>
<span class="linenos" data-linenos=" 14 "></span><span class="w">  </span><span class="c1">// Threshold</span><span class="w"></span>
<span class="linenos" data-linenos=" 15 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">P50</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getThresholdImage</span><span class="p">(</span><span class="s1">&#39;P50&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">);</span><span class="w"> </span><span class="c1">// Percentile 50, 2-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 16 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">P80</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getThresholdImage</span><span class="p">(</span><span class="s1">&#39;P80&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">);</span><span class="w"> </span><span class="c1">// Percentile 80, 5-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 17 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">P90</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getThresholdImage</span><span class="p">(</span><span class="s1">&#39;P90&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">);</span><span class="w"> </span><span class="c1">// Percentile 90, 10-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 18 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">P96</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getThresholdImage</span><span class="p">(</span><span class="s1">&#39;P96&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">);</span><span class="w"> </span><span class="c1">// Percentile 96, 25-year return period</span><span class="w"></span>
<span class="linenos" data-linenos=" 19 "></span><span class="w">  </span><span class="c1">// Slope</span><span class="w"></span>
<span class="linenos" data-linenos=" 20 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgSlope</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getSlopeImage</span><span class="p">(</span><span class="nx">month</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 21 "></span><span class="w">  </span><span class="c1">// Intercept</span><span class="w"></span>
<span class="linenos" data-linenos=" 22 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgIntercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getInterceptImage</span><span class="p">(</span><span class="nx">month</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 23 "></span>
<span class="linenos" data-linenos=" 24 "></span><span class="w">  </span><span class="c1">// Mosaic rainfall with threshold images</span><span class="w"></span>
<span class="linenos" data-linenos=" 25 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgBase</span><span class="w"></span>
<span class="linenos" data-linenos=" 26 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">P50</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 27 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">P80</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 28 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">P90</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 29 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">P96</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 30 "></span>
<span class="linenos" data-linenos=" 31 "></span><span class="w">  </span><span class="c1">// Extract a pixel of rainfall exceeding the threshold, called as impact</span><span class="w"></span>
<span class="linenos" data-linenos=" 32 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgImpact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span><span class="w"></span>
<span class="linenos" data-linenos=" 33 "></span><span class="w">    </span><span class="s1">&#39;impact = R&gt;P96?4:(R&gt;P90?3:(R&gt;P80?2:(R&gt;P50?1:R*0)))&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 34 "></span><span class="w">    </span><span class="s1">&#39;R&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="nx">rainfallColumn</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 35 "></span><span class="w">    </span><span class="s1">&#39;P50&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;b1&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 36 "></span><span class="w">    </span><span class="s1">&#39;P80&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;b1_1&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 37 "></span><span class="w">    </span><span class="s1">&#39;P90&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;b1_2&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 38 "></span><span class="w">    </span><span class="s1">&#39;P96&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgImpactSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;b1_3&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 39 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 40 "></span>
<span class="linenos" data-linenos=" 41 "></span><span class="w">  </span><span class="c1">// Mosaic rainfall with slope and intercepts images</span><span class="w"></span>
<span class="linenos" data-linenos=" 42 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgProbSrc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgBase</span><span class="w"></span>
<span class="linenos" data-linenos=" 43 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">imgSlope</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 44 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">imgIntercept</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 45 "></span>
<span class="linenos" data-linenos=" 46 "></span><span class="w">  </span><span class="c1">// Calculate the likelihood a pixel of rainfall will trigger a flood or not</span><span class="w"></span>
<span class="linenos" data-linenos=" 47 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgProbBase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgProbSrc</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span><span class="w"></span>
<span class="linenos" data-linenos=" 48 "></span><span class="w">    </span><span class="s1">&#39;prob_base = 1/(1+(e **(-((S*R)+I))))&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 49 "></span><span class="w">    </span><span class="s1">&#39;e&#39;</span><span class="o">:</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">E</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 50 "></span><span class="w">    </span><span class="s1">&#39;R&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgProbSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="nx">rainfallColumn</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 51 "></span><span class="w">    </span><span class="s1">&#39;S&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgProbSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;b1&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 52 "></span><span class="w">    </span><span class="s1">&#39;I&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgProbSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;b1_1&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 53 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 54 "></span>
<span class="linenos" data-linenos=" 55 "></span><span class="w">  </span><span class="c1">// Classify the likelihood: Low 0 - 0.6, Moderate 0.6 - 0.8, High 0.8 - 1</span><span class="w"></span>
<span class="linenos" data-linenos=" 56 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgProb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgProbBase</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span><span class="w"></span>
<span class="linenos" data-linenos=" 57 "></span><span class="w">    </span><span class="s1">&#39;prob = V&lt;0.6?0:(V&lt;0.8?1:(V&lt;=1?2:0*V))&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 58 "></span><span class="w">    </span><span class="s1">&#39;V&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgProbBase</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;prob_base&#39;</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos=" 59 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 60 "></span>
<span class="linenos" data-linenos=" 61 "></span><span class="w">  </span><span class="c1">// Mosaic impact and likelihood image</span><span class="w"></span>
<span class="linenos" data-linenos=" 62 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgReSrc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgImpact</span><span class="w"></span>
<span class="linenos" data-linenos=" 63 "></span><span class="w">    </span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">imgProb</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 64 "></span>
<span class="linenos" data-linenos=" 65 "></span><span class="w">  </span><span class="c1">// Calculate extreme rainfall-triggering flood (ERTF)</span><span class="w"></span>
<span class="linenos" data-linenos=" 66 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgReBase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgReSrc</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span><span class="w"></span>
<span class="linenos" data-linenos=" 67 "></span><span class="w">    </span><span class="s1">&#39;ertf = (x*3) + y + 1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 68 "></span><span class="w">    </span><span class="s1">&#39;x&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgReSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 69 "></span><span class="w">    </span><span class="s1">&#39;y&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgReSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;prob&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 70 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 71 "></span>
<span class="linenos" data-linenos=" 72 "></span><span class="w">  </span><span class="c1">// ERTF matrix 3x4, came from impact and likelihood</span><span class="w"></span>
<span class="linenos" data-linenos=" 73 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgRe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgReBase</span><span class="p">.</span><span class="nx">remap</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos=" 74 "></span><span class="w">    </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 75 "></span><span class="w">    </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">6</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 76 "></span><span class="w">    </span><span class="mf">7</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">9</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 77 "></span><span class="w">    </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">12</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 78 "></span><span class="w">    </span><span class="mf">13</span><span class="p">,</span><span class="w"> </span><span class="mf">14</span><span class="p">,</span><span class="w"> </span><span class="mf">15</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 79 "></span><span class="w">    </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 80 "></span><span class="w">    </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 81 "></span><span class="w">    </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 82 "></span><span class="w">    </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">7</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 83 "></span><span class="w">    </span><span class="mf">6</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">9</span><span class="w"></span>
<span class="linenos" data-linenos=" 84 "></span><span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos=" 85 "></span><span class="w">  </span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 86 "></span>
<span class="linenos" data-linenos=" 87 "></span><span class="w">  </span><span class="c1">// Re class matrix into 3 class</span><span class="w"></span>
<span class="linenos" data-linenos=" 88 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgReClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgReBase</span><span class="p">.</span><span class="nx">remap</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos=" 89 "></span><span class="w">    </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 90 "></span><span class="w">    </span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">6</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 91 "></span><span class="w">    </span><span class="mf">7</span><span class="p">,</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="mf">9</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 92 "></span><span class="w">    </span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">12</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 93 "></span><span class="w">    </span><span class="mf">13</span><span class="p">,</span><span class="w"> </span><span class="mf">14</span><span class="p">,</span><span class="w"> </span><span class="mf">15</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 94 "></span><span class="w">    </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 95 "></span><span class="w">    </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 96 "></span><span class="w">    </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 97 "></span><span class="w">    </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 98 "></span><span class="w">    </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="w"></span>
<span class="linenos" data-linenos=" 99 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="100 "></span>
<span class="linenos" data-linenos="101 "></span><span class="w">  </span><span class="c1">// Final product from single run</span><span class="w"></span>
<span class="linenos" data-linenos="102 "></span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="103 "></span><span class="w">    </span><span class="s1">&#39;re&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgRe</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">imgRe</span><span class="p">.</span><span class="nx">gte</span><span class="p">(</span><span class="mf">0</span><span class="p">)),</span><span class="w"></span>
<span class="linenos" data-linenos="104 "></span><span class="w">    </span><span class="s1">&#39;reClass&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgReClass</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">imgReClass</span><span class="p">.</span><span class="nx">gte</span><span class="p">(</span><span class="mf">0</span><span class="p">)),</span><span class="w"></span>
<span class="linenos" data-linenos="105 "></span><span class="w">    </span><span class="s1">&#39;rainfall&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgBase</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">imgBase</span><span class="p">.</span><span class="nx">gt</span><span class="p">(</span><span class="mf">0</span><span class="p">)),</span><span class="w"></span>
<span class="linenos" data-linenos="106 "></span><span class="w">    </span><span class="s1">&#39;impact&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgImpact</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">imgImpact</span><span class="p">.</span><span class="nx">gt</span><span class="p">(</span><span class="mf">0</span><span class="p">)),</span><span class="w"></span>
<span class="linenos" data-linenos="107 "></span><span class="w">    </span><span class="s1">&#39;prob&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgProb</span><span class="p">.</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">imgProb</span><span class="p">.</span><span class="nx">gt</span><span class="p">(</span><span class="mf">0</span><span class="p">))</span><span class="w"></span>
<span class="linenos" data-linenos="108 "></span><span class="w">  </span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="109 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="rendering-process">Rendering process</h2>
<p>As a trigger for ERM to do the analysis, user must select the date and number of days of simulation, then GEE will do the rendering process. ui.DateSlider onChange argument will use to start the simulation.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="c1">// RENDERING</span><span class="w"></span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos=" 3 "></span><span class="c1">// Render map based on DateSlider onChange</span><span class="w"></span>
<span class="linenos" data-linenos=" 4 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">  </span><span class="c1">// Date Slider</span><span class="w"></span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">dateSlider</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()[</span><span class="mf">0</span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">  </span><span class="c1">// Day of simulation combobox</span><span class="w"></span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">_numday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">daySelect</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">_numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="10 "></span><span class="w">    </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="11 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="12 "></span>
<span class="linenos" data-linenos="13 "></span><span class="w">  </span><span class="c1">// wait counter for affected pops and crops</span><span class="w"></span>
<span class="linenos" data-linenos="14 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="15 "></span>
<span class="linenos" data-linenos="16 "></span><span class="w">  </span><span class="c1">// Day of simulation</span><span class="w"></span>
<span class="linenos" data-linenos="17 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="18 "></span><span class="w">    </span><span class="s1">&#39;1 day&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="19 "></span><span class="w">    </span><span class="s1">&#39;2 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="20 "></span><span class="w">    </span><span class="s1">&#39;3 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="21 "></span><span class="w">    </span><span class="s1">&#39;4 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="22 "></span><span class="w">    </span><span class="s1">&#39;5 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="w"></span>
<span class="linenos" data-linenos="23 "></span><span class="w">  </span><span class="p">}[</span><span class="nx">_numday</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="24 "></span>
<span class="linenos" data-linenos="25 "></span><span class="w">  </span><span class="c1">// Disable Render button</span><span class="w"></span>
<span class="linenos" data-linenos="26 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">renderButton</span><span class="p">.</span><span class="nx">setDisabled</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="27 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedDate</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="28 "></span><span class="w">    </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"> </span><span class="c1">// Label for date validity in near real time simulation</span><span class="w"></span>
<span class="linenos" data-linenos="29 "></span><span class="w">      </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Potential impact for the last &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; day(s), as of &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">dt</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos="30 "></span><span class="w">      </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;blue&#39;</span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="31 "></span><span class="w">    </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="32 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="33 "></span><span class="w">  </span><span class="c1">// Loading information after executing render button</span><span class="w"></span>
<span class="linenos" data-linenos="34 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedPops</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="35 "></span><span class="w">    </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Loading...&#39;</span><span class="w"> </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="36 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="37 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedCrops</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="38 "></span><span class="w">    </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Loading...&#39;</span><span class="w"> </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="39 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="40 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedDate</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="41 "></span><span class="w">    </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"> </span><span class="c1">// Label for date validity in forecasst simulation</span><span class="w"></span>
<span class="linenos" data-linenos="42 "></span><span class="w">      </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Potential impact for &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; day(s) ahead, issued on &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">dt</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos="43 "></span><span class="w">      </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;blue&#39;</span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="44 "></span><span class="w">    </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="45 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="46 "></span><span class="w">  </span><span class="c1">// Loading information after executing render button</span><span class="w"></span>
<span class="linenos" data-linenos="47 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedPops</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="48 "></span><span class="w">    </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Loading...&#39;</span><span class="w"> </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="49 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="50 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedCrops</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="51 "></span><span class="w">    </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Loading...&#39;</span><span class="w"> </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="52 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="53 "></span>
<span class="linenos" data-linenos="54 "></span><span class="w">  </span><span class="c1">// Get all layer result</span><span class="w"></span>
<span class="linenos" data-linenos="55 "></span><span class="w">  </span><span class="c1">// Near Real Time Result</span><span class="w"></span>
<span class="linenos" data-linenos="56 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imageNRT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRainfallExtremeImage</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="57 "></span><span class="w">    </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="nx">dt</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="58 "></span><span class="w">    </span><span class="nx">numday</span><span class="o">:</span><span class="w"> </span><span class="nx">numday</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="59 "></span><span class="w">    </span><span class="nx">imgBase</span><span class="o">:</span><span class="w"> </span><span class="nx">getImergImage</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos="60 "></span><span class="w">    </span><span class="nx">rainfallColumn</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;precipitationCal&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="61 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="62 "></span><span class="w">  </span><span class="c1">// Forecast Result</span><span class="w"></span>
<span class="linenos" data-linenos="63 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imageFCT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRainfallExtremeImage</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="64 "></span><span class="w">    </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="nx">dt</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="65 "></span><span class="w">    </span><span class="nx">numday</span><span class="o">:</span><span class="w"> </span><span class="nx">numday</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="66 "></span><span class="w">    </span><span class="nx">imgBase</span><span class="o">:</span><span class="w"> </span><span class="nx">getGfsImage</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos="67 "></span><span class="w">    </span><span class="nx">rainfallColumn</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;total_precipitation_surface&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="68 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="69 "></span>
<span class="linenos" data-linenos="70 "></span><span class="w">  </span><span class="c1">// Load layer result as map</span><span class="w"></span>
<span class="linenos" data-linenos="71 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">layers</span><span class="p">().</span><span class="nx">reset</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="72 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">re</span><span class="p">,</span><span class="w"> </span><span class="nx">visFlood</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Forecast - Flood Alert&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="73 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">re</span><span class="p">,</span><span class="w"> </span><span class="nx">visFlood</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Near Real-Time - Flood Alert&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="74 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">prob</span><span class="p">,</span><span class="w"> </span><span class="nx">visLikelihood</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Forecast - Likelihood of Flooding&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="75 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">prob</span><span class="p">,</span><span class="w"> </span><span class="nx">visLikelihood</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Near Real-Time - Likelihood of Flooding&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="76 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">impact</span><span class="p">,</span><span class="w"> </span><span class="nx">visExtreme</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Forecast - Rainfall exceeding Threshold&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="77 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">impact</span><span class="p">,</span><span class="w"> </span><span class="nx">visExtreme</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Near Real-Time - Rainfall exceeding Threshold&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="78 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">rainfall</span><span class="p">.</span><span class="nx">sldStyle</span><span class="p">(</span><span class="nx">visRainfallSLD</span><span class="p">),</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="s1">&#39;Forecast - Rainfall&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="79 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">rainfall</span><span class="p">.</span><span class="nx">sldStyle</span><span class="p">(</span><span class="nx">visRainfallSLD</span><span class="p">),</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="s1">&#39;Near Real-Time - Rainfall&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="80 "></span>
<span class="linenos" data-linenos="81 "></span><span class="w">  </span><span class="c1">// Rendering population information</span><span class="w"></span>
<span class="linenos" data-linenos="82 "></span><span class="w">  </span><span class="nx">renderPopulationInfo</span><span class="p">(</span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">reClass</span><span class="p">,</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedPops</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="83 "></span><span class="w">  </span><span class="nx">renderPopulationInfo</span><span class="p">(</span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">reClass</span><span class="p">,</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedPops</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="84 "></span>
<span class="linenos" data-linenos="85 "></span><span class="w">  </span><span class="c1">// Rendering crop information</span><span class="w"></span>
<span class="linenos" data-linenos="86 "></span><span class="w">  </span><span class="nx">renderCropInfo</span><span class="p">(</span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">reClass</span><span class="p">,</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedCrops</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="87 "></span><span class="w">  </span><span class="nx">renderCropInfo</span><span class="p">(</span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">reClass</span><span class="p">,</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedCrops</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="88 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="population-and-cropland-affected">Population and cropland affected</h2>
<p>After all the above process completed, below script will show population aand cropland affected information on the panel by extracting each alert from above process then combine with population data.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  1 "></span><span class="c1">// IMPACT ANALYSIS</span><span class="w"></span>
<span class="linenos" data-linenos="  2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos="  3 "></span><span class="c1">// AFFECTED POPULATION</span><span class="w"></span>
<span class="linenos" data-linenos="  4 "></span><span class="c1">// Show Affected Population on Panel</span><span class="w"></span>
<span class="linenos" data-linenos="  5 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">renderPopulationInfo</span><span class="p">(</span><span class="nx">imgReClass</span><span class="p">,</span><span class="w"> </span><span class="nx">targetUi</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="  6 "></span><span class="w">  </span><span class="c1">// Mosaic population layer and flood alert layer</span><span class="w"></span>
<span class="linenos" data-linenos="  7 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ghsl</span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">imgReClass</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="  8 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w"></span>
<span class="linenos" data-linenos="  9 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">reClasses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span><span class="w"></span>
<span class="linenos" data-linenos=" 10 "></span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">4</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 11 "></span><span class="w">    </span><span class="nx">reClasses</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 12 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 13 "></span><span class="w">  </span><span class="c1">// Extract each alert then combine with population data</span><span class="w"></span>
<span class="linenos" data-linenos=" 14 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 15 "></span><span class="w">  </span><span class="nx">reClasses</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">reClass</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 16 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgComb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span><span class="w"></span>
<span class="linenos" data-linenos=" 17 "></span><span class="w">      </span><span class="s1">&#39;p * (v == c? 1:0)&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 18 "></span><span class="w">      </span><span class="s1">&#39;p&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;population_count&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 19 "></span><span class="w">      </span><span class="s1">&#39;v&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;remapped&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 20 "></span><span class="w">      </span><span class="s1">&#39;c&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">reClass</span><span class="w"></span>
<span class="linenos" data-linenos=" 21 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 22 "></span><span class="w">    </span><span class="c1">// Get number of pop affected value for each class</span><span class="w"></span>
<span class="linenos" data-linenos=" 23 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgComb</span><span class="p">.</span><span class="nx">reduceRegion</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 24 "></span><span class="w">      </span><span class="nx">reducer</span><span class="o">:</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">sum</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 25 "></span><span class="w">      </span><span class="nx">geometry</span><span class="o">:</span><span class="w"> </span><span class="nx">imgReClass</span><span class="p">.</span><span class="nx">geometry</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 26 "></span><span class="w">      </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">250</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 27 "></span><span class="w">      </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e9</span><span class="w"></span>
<span class="linenos" data-linenos=" 28 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 29 "></span><span class="w">    </span><span class="nx">stat</span><span class="p">.</span><span class="nx">evaluate</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 30 "></span><span class="w">      </span><span class="nx">stats</span><span class="p">[</span><span class="nx">reClass</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s</span><span class="p">.</span><span class="nx">population_count</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 31 "></span><span class="w">      </span><span class="nx">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 32 "></span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">reClasses</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 33 "></span><span class="w">        </span><span class="nx">renderLegend</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos=" 34 "></span><span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 35 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 36 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 37 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 38 "></span><span class="w">  </span><span class="c1">// Rendering legend for impact analysis</span><span class="w"></span>
<span class="linenos" data-linenos=" 39 "></span><span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">renderLegend</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 40 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">widgets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 41 "></span><span class="w">      </span><span class="p">[</span><span class="s1">&#39;FFEDA0&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">],</span><span class="w"> </span><span class="c1">// Yellow</span><span class="w"></span>
<span class="linenos" data-linenos=" 42 "></span><span class="w">      </span><span class="p">[</span><span class="s1">&#39;FEB24C&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">],</span><span class="w"> </span><span class="c1">// Orange</span><span class="w"></span>
<span class="linenos" data-linenos=" 43 "></span><span class="w">      </span><span class="p">[</span><span class="s1">&#39;F03B20&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="c1">// Red</span><span class="w"></span>
<span class="linenos" data-linenos=" 44 "></span><span class="w">    </span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 45 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">p</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos=" 46 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">p</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos=" 47 "></span><span class="w">      </span><span class="c1">// Dynamic text</span><span class="w"></span>
<span class="linenos" data-linenos=" 48 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Alert &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">level</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;: &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos=" 49 "></span><span class="w">        </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">stats</span><span class="p">[</span><span class="nx">level</span><span class="p">]).</span><span class="nx">toLocaleString</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos=" 50 "></span><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">makeLegendBox</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 51 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 52 "></span><span class="w">    </span><span class="nx">targetUi</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">(</span><span class="nx">widgets</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 53 "></span><span class="w">    </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 54 "></span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 55 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">renderButton</span><span class="p">.</span><span class="nx">setDisabled</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 56 "></span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 57 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 58 "></span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 59 "></span>
<span class="linenos" data-linenos=" 60 "></span><span class="c1">// AFFECTED CROPLAND</span><span class="w"></span>
<span class="linenos" data-linenos=" 61 "></span><span class="c1">// Show Affected Crop on Panel</span><span class="w"></span>
<span class="linenos" data-linenos=" 62 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">renderCropInfo</span><span class="p">(</span><span class="nx">imgReClass</span><span class="p">,</span><span class="w"> </span><span class="nx">targetUi</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 63 "></span><span class="w">  </span><span class="c1">// Get cropland class, value 12 and 14. Check https://developers.google.com/earth-engine/datasets/catalog/MODIS_006_MCD12Q1#bands</span><span class="w"></span>
<span class="linenos" data-linenos=" 64 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">cropmask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mcd12q1</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mf">12</span><span class="p">).</span><span class="nx">or</span><span class="p">(</span><span class="nx">mcd12q1</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mf">14</span><span class="p">));</span><span class="w"></span>
<span class="linenos" data-linenos=" 65 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">cropland</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mcd12q1</span><span class="p">.</span><span class="nx">divide</span><span class="p">(</span><span class="nx">mcd12q1</span><span class="p">).</span><span class="nx">updateMask</span><span class="p">(</span><span class="nx">cropmask</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 66 "></span>
<span class="linenos" data-linenos=" 67 "></span><span class="w">  </span><span class="c1">// Mosaic cropland layer and flood alert layer</span><span class="w"></span>
<span class="linenos" data-linenos=" 68 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">cropland</span><span class="p">.</span><span class="nx">addBands</span><span class="p">(</span><span class="nx">imgReClass</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 69 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w"></span>
<span class="linenos" data-linenos=" 70 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">reClasses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span><span class="w"></span>
<span class="linenos" data-linenos=" 71 "></span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">4</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 72 "></span><span class="w">    </span><span class="nx">reClasses</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 73 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 74 "></span><span class="w">  </span><span class="c1">// Extract each alert then combine with cropland data</span><span class="w"></span>
<span class="linenos" data-linenos=" 75 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 76 "></span><span class="w">  </span><span class="nx">reClasses</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">reClass</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 77 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">imgComb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="p">.</span><span class="nx">expression</span><span class="p">(</span><span class="w"></span>
<span class="linenos" data-linenos=" 78 "></span><span class="w">      </span><span class="s1">&#39;p * (v == c? 1:0)&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 79 "></span><span class="w">      </span><span class="s1">&#39;p&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;LC_Type1&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 80 "></span><span class="w">      </span><span class="s1">&#39;v&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">imgCombSrc</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;remapped&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 81 "></span><span class="w">      </span><span class="s1">&#39;c&#39;</span><span class="o">:</span><span class="w"> </span><span class="nx">reClass</span><span class="w"></span>
<span class="linenos" data-linenos=" 82 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 83 "></span><span class="w">    </span><span class="c1">// Get hectares</span><span class="w"></span>
<span class="linenos" data-linenos=" 84 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">Cropland_PixelArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">imgComb</span><span class="w"></span>
<span class="linenos" data-linenos=" 85 "></span><span class="w">      </span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">pixelArea</span><span class="p">()).</span><span class="nx">divide</span><span class="p">(</span><span class="mf">10000</span><span class="p">).</span><span class="nx">round</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos=" 86 "></span><span class="w">    </span><span class="c1">// Get number of pop affected value for each class</span><span class="w"></span>
<span class="linenos" data-linenos=" 87 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">stat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Cropland_PixelArea</span><span class="p">.</span><span class="nx">reduceRegion</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 88 "></span><span class="w">      </span><span class="nx">reducer</span><span class="o">:</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Reducer</span><span class="p">.</span><span class="nx">sum</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 89 "></span><span class="w">      </span><span class="nx">geometry</span><span class="o">:</span><span class="w"> </span><span class="nx">imgReClass</span><span class="p">.</span><span class="nx">geometry</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 90 "></span><span class="w">      </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">500</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 91 "></span><span class="w">      </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e9</span><span class="w"></span>
<span class="linenos" data-linenos=" 92 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 93 "></span><span class="w">    </span><span class="nx">stat</span><span class="p">.</span><span class="nx">evaluate</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 94 "></span><span class="w">      </span><span class="nx">stats</span><span class="p">[</span><span class="nx">reClass</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s</span><span class="p">.</span><span class="nx">LC_Type1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 95 "></span><span class="w">      </span><span class="nx">counter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 96 "></span><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">counter</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">reClasses</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 97 "></span><span class="w">        </span><span class="nx">renderLegend</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos=" 98 "></span><span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 99 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="100 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="101 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="102 "></span><span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">renderLegend</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="103 "></span><span class="w">    </span><span class="c1">// Rendering legend for impact analysis</span><span class="w"></span>
<span class="linenos" data-linenos="104 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">widgets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="105 "></span><span class="w">      </span><span class="p">[</span><span class="s1">&#39;FFEDA0&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">],</span><span class="w"> </span><span class="c1">// Yellow</span><span class="w"></span>
<span class="linenos" data-linenos="106 "></span><span class="w">      </span><span class="p">[</span><span class="s1">&#39;FEB24C&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">],</span><span class="w"> </span><span class="c1">// Orange</span><span class="w"></span>
<span class="linenos" data-linenos="107 "></span><span class="w">      </span><span class="p">[</span><span class="s1">&#39;F03B20&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="c1">// Red</span><span class="w"></span>
<span class="linenos" data-linenos="108 "></span><span class="w">    </span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="109 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">p</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="110 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">p</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="111 "></span><span class="w">      </span><span class="c1">// Dynamic text</span><span class="w"></span>
<span class="linenos" data-linenos="112 "></span><span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Alert &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">level</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;: &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="113 "></span><span class="w">        </span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">stats</span><span class="p">[</span><span class="nx">level</span><span class="p">]).</span><span class="nx">toLocaleString</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="114 "></span><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">makeLegendBox</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="115 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="116 "></span><span class="w">    </span><span class="nx">targetUi</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">(</span><span class="nx">widgets</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="117 "></span><span class="w">    </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="118 "></span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">loadingCounter</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="119 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">renderButton</span><span class="p">.</span><span class="nx">setDisabled</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="120 "></span><span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="121 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="122 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h2 id="panel-configuration">Panel configuration</h2>
<p>The last part is to setup all the supporting information on the Panel.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  1 "></span><span class="c1">// USER INTERFACE</span><span class="w"></span>
<span class="linenos" data-linenos="  2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos="  3 "></span><span class="c1">// Initialize UI Components</span><span class="w"></span>
<span class="linenos" data-linenos="  4 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">initializeUIComponents</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="  5 "></span><span class="w">  </span><span class="c1">// Clear all process</span><span class="w"></span>
<span class="linenos" data-linenos="  6 "></span><span class="w">  </span><span class="nx">ui</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="  7 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="  8 "></span>
<span class="linenos" data-linenos="  9 "></span><span class="w">  </span><span class="c1">// ui.Select widget</span><span class="w"></span>
<span class="linenos" data-linenos=" 10 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">daySelect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Select</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 11 "></span><span class="w">    </span><span class="c1">// Number of simulation day</span><span class="w"></span>
<span class="linenos" data-linenos=" 12 "></span><span class="w">    </span><span class="nx">items</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;1 day&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2 days&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3 days&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4 days&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;5 days&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos=" 13 "></span><span class="w">    </span><span class="nx">placeholder</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Select number of days&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 14 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 15 "></span>
<span class="linenos" data-linenos=" 16 "></span><span class="w">  </span><span class="c1">// Setting date</span><span class="w"></span>
<span class="linenos" data-linenos=" 17 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">());</span><span class="w"></span>
<span class="linenos" data-linenos=" 18 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">startDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="s1">&#39;2019-07-01&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// First GFS data 1 Jul 2015</span><span class="w"></span>
<span class="linenos" data-linenos=" 19 "></span>
<span class="linenos" data-linenos=" 20 "></span><span class="w">  </span><span class="c1">// ui.DateSlider widget</span><span class="w"></span>
<span class="linenos" data-linenos=" 21 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">dateSlider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">DateSlider</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 22 "></span><span class="w">    </span><span class="nx">start</span><span class="o">:</span><span class="w"> </span><span class="nx">startDate</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 23 "></span><span class="w">    </span><span class="nx">end</span><span class="o">:</span><span class="w"> </span><span class="nx">today</span><span class="p">.</span><span class="nx">advance</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;day&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 24 "></span><span class="w">    </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="nx">today</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 25 "></span><span class="w">    </span><span class="nx">period</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="c1">// the unit is day</span><span class="w"></span>
<span class="linenos" data-linenos=" 26 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;300px&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bottom-left&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 27 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 28 "></span>
<span class="linenos" data-linenos=" 29 "></span><span class="w">  </span><span class="c1">// Add render button to ui</span><span class="w"></span>
<span class="linenos" data-linenos=" 30 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">renderButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 31 "></span><span class="w">    </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Render&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 32 "></span><span class="w">    </span><span class="nx">onClick</span><span class="o">:</span><span class="w"> </span><span class="nx">render</span><span class="w"></span>
<span class="linenos" data-linenos=" 33 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 34 "></span>
<span class="linenos" data-linenos=" 35 "></span><span class="w">  </span><span class="c1">// Add download button to ui</span><span class="w"></span>
<span class="linenos" data-linenos=" 36 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">downloadButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Button</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 37 "></span><span class="w">    </span><span class="nx">label</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Download Data&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 38 "></span><span class="w">    </span><span class="nx">onClick</span><span class="o">:</span><span class="w"> </span><span class="nx">downloadMap</span><span class="w"></span>
<span class="linenos" data-linenos=" 39 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 40 "></span>
<span class="linenos" data-linenos=" 41 "></span><span class="w">  </span><span class="c1">// Warning if the parameters is not completed</span><span class="w"></span>
<span class="linenos" data-linenos=" 42 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 43 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 44 "></span><span class="w">      </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 45 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 46 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 47 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 48 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;!!! Select date and number of day then press Render button&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 49 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos=" 50 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos=" 51 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 52 "></span>
<span class="linenos" data-linenos=" 53 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedPops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 54 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 55 "></span><span class="w">      </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 56 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 57 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 58 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 59 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;!!! Select date and number of day then press Render button&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 60 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos=" 61 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos=" 62 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 63 "></span>
<span class="linenos" data-linenos=" 64 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedCrops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 65 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 66 "></span><span class="w">      </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 67 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 68 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 69 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 70 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;!!! Select date and number of day then press Render button&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 71 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos=" 72 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos=" 73 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 74 "></span>
<span class="linenos" data-linenos=" 75 "></span><span class="w">  </span><span class="c1">// Warning if the parameters is not completed</span><span class="w"></span>
<span class="linenos" data-linenos=" 76 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 77 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 78 "></span><span class="w">      </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 79 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 80 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 81 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 82 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;!!! Select date and number of day then press Render button&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 83 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos=" 84 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos=" 85 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 86 "></span>
<span class="linenos" data-linenos=" 87 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedPops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 88 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 89 "></span><span class="w">      </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 90 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos=" 91 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos=" 92 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 93 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;!!! Select date and number of day then press Render button&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 94 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos=" 95 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos=" 96 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 97 "></span>
<span class="linenos" data-linenos=" 98 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedCrops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 99 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="100 "></span><span class="w">      </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="101 "></span><span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos="102 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="103 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="104 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;!!! Select date and number of day then press Render button&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="105 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="106 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="107 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="108 "></span>
<span class="linenos" data-linenos="109 "></span><span class="w">  </span><span class="c1">// Legend in a Panel</span><span class="w"></span>
<span class="linenos" data-linenos="110 "></span><span class="w">  </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">makeLegendBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">color</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="111 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">colorBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="112 "></span><span class="w">      </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="113 "></span><span class="w">        </span><span class="nx">backgroundColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">color</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="114 "></span><span class="w">        </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;10px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;8px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="115 "></span><span class="w">        </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0 0 4px 0&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="116 "></span><span class="w">        </span><span class="nx">border</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;solid 0.5px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="117 "></span><span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="118 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="119 "></span><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="120 "></span><span class="w">      </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="nx">label</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="121 "></span><span class="w">      </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0 0 4px 6px&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;12px&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos="122 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="123 "></span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="124 "></span><span class="w">      </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">colorBox</span><span class="p">,</span><span class="w"> </span><span class="nx">description</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="125 "></span><span class="w">      </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0 0 4px 6px&#39;</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos="126 "></span><span class="w">      </span><span class="nx">layout</span><span class="o">:</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Layout</span><span class="p">.</span><span class="nx">Flow</span><span class="p">(</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span><span class="w"></span>
<span class="linenos" data-linenos="127 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="128 "></span><span class="w">  </span><span class="p">};</span><span class="w"></span>
<span class="linenos" data-linenos="129 "></span>
<span class="linenos" data-linenos="130 "></span><span class="w">  </span><span class="c1">// Paragraph intro in top of Panel</span><span class="w"></span>
<span class="linenos" data-linenos="131 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">intro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="132 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="133 "></span><span class="w">      </span><span class="c1">// Title</span><span class="w"></span>
<span class="linenos" data-linenos="134 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="135 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Extreme rainfall monitoring, will it trigger a flood?&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="136 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="137 "></span><span class="w">          </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="138 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;22px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;20px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="139 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="140 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="141 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="142 "></span>
<span class="linenos" data-linenos="143 "></span><span class="w">      </span><span class="c1">// Intro</span><span class="w"></span>
<span class="linenos" data-linenos="144 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="145 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ERM is an app that are able to inform where is the estimated location of extreme rainfall &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="146 "></span><span class="w">          </span><span class="s1">&#39;in the last 5-days (Near Real Time) and up to 5-days ahead (Forecast) based on selected date. &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="147 "></span><span class="w">          </span><span class="s1">&#39;To learn more about what inside the application, please visit below link:&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="148 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="149 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="150 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="151 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="152 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="153 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;https://wfpidn.github.io/ERM&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="154 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="155 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="156 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="157 "></span><span class="w">      </span><span class="p">}).</span><span class="nx">setUrl</span><span class="p">(</span><span class="s1">&#39;https://wfpidn.github.io/ERM&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos="158 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="159 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;The computation is over when you see number of affected population below for both near real-time &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="160 "></span><span class="w">          </span><span class="s1">&#39;and forecasat, and the Render button enable. Every computation required at least a minute to complete &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"></span>
<span class="linenos" data-linenos="161 "></span><span class="w">          </span><span class="s1">&#39;all the process. PLEASE BE PATIENT! &#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="162 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="163 "></span><span class="w">          </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="164 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="165 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="166 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="167 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="168 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;_________________________________________________&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="169 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="170 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="171 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="172 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="173 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="174 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="175 "></span>
<span class="linenos" data-linenos="176 "></span><span class="w">  </span><span class="c1">// Affected label - near real-time</span><span class="w"></span>
<span class="linenos" data-linenos="177 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">NRTaffectedPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="178 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="179 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="180 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Near Real-Time&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="181 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="182 "></span><span class="w">          </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="183 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="184 "></span><span class="w">          </span><span class="c1">// margin: &#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="185 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="186 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="187 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="188 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="189 "></span>
<span class="linenos" data-linenos="190 "></span><span class="w">  </span><span class="c1">// Date information - near real-time</span><span class="w"></span>
<span class="linenos" data-linenos="191 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">NRTaffectedDatePanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="192 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="193 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="194 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="195 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="196 "></span><span class="w">          </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="197 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;12px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="198 "></span><span class="w">          </span><span class="c1">// margin: &#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="199 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="200 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="201 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedDate</span><span class="w"></span>
<span class="linenos" data-linenos="202 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="203 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="204 "></span>
<span class="linenos" data-linenos="205 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">NRTaffectedPopPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="206 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="207 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="208 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Population affected&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="209 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="210 "></span><span class="w">          </span><span class="c1">// fontWeight: &#39;bold&#39;,</span><span class="w"></span>
<span class="linenos" data-linenos="211 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="212 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="213 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="214 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="215 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedPops</span><span class="w"></span>
<span class="linenos" data-linenos="216 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="217 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="218 "></span>
<span class="linenos" data-linenos="219 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">NRTaffectedCropPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="220 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="221 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="222 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Cropland affected (Hectares)&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="223 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="224 "></span><span class="w">          </span><span class="c1">// fontWeight: &#39;bold&#39;,</span><span class="w"></span>
<span class="linenos" data-linenos="225 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="226 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="227 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="228 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="229 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">NRTaffectedCrops</span><span class="w"></span>
<span class="linenos" data-linenos="230 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="231 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="232 "></span>
<span class="linenos" data-linenos="233 "></span>
<span class="linenos" data-linenos="234 "></span><span class="w">  </span><span class="c1">// Affected label - near real-time</span><span class="w"></span>
<span class="linenos" data-linenos="235 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">FCTaffectedPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="236 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="237 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="238 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Forecast&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="239 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="240 "></span><span class="w">          </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="241 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="242 "></span><span class="w">          </span><span class="c1">// margin: &#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="243 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="244 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="245 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="246 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="247 "></span>
<span class="linenos" data-linenos="248 "></span><span class="w">  </span><span class="c1">// Date information - forecast</span><span class="w"></span>
<span class="linenos" data-linenos="249 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">FCTaffectedDatePanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="250 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="251 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="252 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="253 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="254 "></span><span class="w">          </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="255 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;12px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="256 "></span><span class="w">          </span><span class="c1">// margin: &#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="257 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="258 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="259 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedDate</span><span class="w"></span>
<span class="linenos" data-linenos="260 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="261 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="262 "></span>
<span class="linenos" data-linenos="263 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">FCTaffectedPopPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="264 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="265 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="266 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Population affected&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="267 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="268 "></span><span class="w">          </span><span class="c1">// fontWeight: &#39;bold&#39;,</span><span class="w"></span>
<span class="linenos" data-linenos="269 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="270 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="271 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="272 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="273 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedPops</span><span class="w"></span>
<span class="linenos" data-linenos="274 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="275 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="276 "></span>
<span class="linenos" data-linenos="277 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">FCTaffectedCropPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="278 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="279 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="280 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Crop affected (Hectares)&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="281 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="282 "></span><span class="w">          </span><span class="c1">// fontWeight: &#39;bold&#39;,</span><span class="w"></span>
<span class="linenos" data-linenos="283 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="284 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="285 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="286 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="287 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">FCTaffectedCrops</span><span class="w"></span>
<span class="linenos" data-linenos="288 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="289 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="290 "></span>
<span class="linenos" data-linenos="291 "></span><span class="w">  </span><span class="c1">// Legend information for all layers</span><span class="w"></span>
<span class="linenos" data-linenos="292 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">legendintro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="293 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="294 "></span><span class="w">      </span><span class="c1">// Line divider</span><span class="w"></span>
<span class="linenos" data-linenos="295 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="296 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;_________________________________________________&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="297 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="298 "></span><span class="w">          </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="299 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;14px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="300 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="301 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="302 "></span><span class="w">      </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="303 "></span>
<span class="linenos" data-linenos="304 "></span><span class="w">      </span><span class="c1">// Legend label</span><span class="w"></span>
<span class="linenos" data-linenos="305 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="306 "></span><span class="w">        </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Legend &#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="307 "></span><span class="w">        </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="308 "></span><span class="w">          </span><span class="nx">fontWeight</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="309 "></span><span class="w">          </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;22px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;20px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="310 "></span><span class="w">          </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="311 "></span><span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="312 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="313 "></span><span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="314 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="315 "></span>
<span class="linenos" data-linenos="316 "></span><span class="w">  </span><span class="c1">// Make a legend, style, color, boxes in a panel</span><span class="w"></span>
<span class="linenos" data-linenos="317 "></span><span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">makeLegend</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">boxes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="318 "></span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="319 "></span><span class="w">      </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="320 "></span><span class="w">        </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Label</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="321 "></span><span class="w">          </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="322 "></span><span class="w">          </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="323 "></span><span class="w">            </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="nx">mobileStyle</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;18px&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;16px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="324 "></span><span class="w">            </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px 5px&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="325 "></span><span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="326 "></span><span class="w">        </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="327 "></span><span class="w">        </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="328 "></span><span class="w">          </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="329 "></span><span class="w">            </span><span class="nx">fontSize</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="330 "></span><span class="w">            </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0 0 10px 12px&#39;</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="331 "></span><span class="w">            </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"></span>
<span class="linenos" data-linenos="332 "></span><span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="linenos" data-linenos="333 "></span><span class="w">          </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="nx">boxes</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="334 "></span><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">b</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="335 "></span><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">b</span><span class="p">[</span><span class="mf">1</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos="336 "></span><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">makeLegendBox</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span><span class="w"> </span><span class="nx">label</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="337 "></span><span class="w">          </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="338 "></span><span class="w">        </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="339 "></span><span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="340 "></span><span class="w">    </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="341 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="342 "></span>
<span class="linenos" data-linenos="343 "></span><span class="w">  </span><span class="c1">// Color codes</span><span class="w"></span>
<span class="linenos" data-linenos="344 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">legendRainfall</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">makeLegend</span><span class="p">(</span><span class="s1">&#39;Rainfall&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="345 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;ffffff&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;No Rain ~ No color&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="346 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;cccccc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1 - 3 milimeters&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="347 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;f9f3d5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4 - 10&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="348 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;dce2a8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;11 - 20&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="349 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;a8c58d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;21 - 30&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="350 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;77a87d&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;31 - 40&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="351 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;ace8f8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;41 - 60&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="352 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;4cafd9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;61 - 80&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="353 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;1d5ede&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;81 - 100&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="354 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;001bc0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;101 - 120&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="355 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;9131f1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;121 - 150&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="356 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;e983f3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;151 - 200&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="357 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;f6c7ec&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&gt; 200&#39;</span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="358 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="359 "></span>
<span class="linenos" data-linenos="360 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">legendCategory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">makeLegend</span><span class="p">(</span><span class="s1">&#39;Rainfall Category&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="361 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;ffffcc&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Moderate&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="362 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;a1dab4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Heavy&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="363 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;41b6c4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Intense&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="364 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;225ea8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Extreme&#39;</span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="365 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="366 "></span>
<span class="linenos" data-linenos="367 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">legendProbability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">makeLegend</span><span class="p">(</span><span class="s1">&#39;Likelihood&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="368 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;f7fcb9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Low&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="369 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;addd8e&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Moderate&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="370 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;31a354&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;High&#39;</span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="371 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="372 "></span>
<span class="linenos" data-linenos="373 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">legendAlert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">makeLegend</span><span class="p">(</span><span class="s1">&#39;Flood Alert&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="374 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;97D700&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Green&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="375 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;ffeda0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Yellow (Category 1 - 3)&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="376 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;FEB24C&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Orange (Category 4 - 6)&#39;</span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="377 "></span><span class="w">    </span><span class="p">[</span><span class="s1">&#39;F03B20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Red (Category 7 - 9)&#39;</span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="378 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="379 "></span>
<span class="linenos" data-linenos="380 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">mainPanel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="381 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="382 "></span><span class="w">      </span><span class="nx">intro</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="383 "></span><span class="w">      </span><span class="nx">NRTaffectedPanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="384 "></span><span class="w">      </span><span class="nx">NRTaffectedDatePanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="385 "></span><span class="w">      </span><span class="nx">NRTaffectedPopPanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="386 "></span><span class="w">      </span><span class="nx">NRTaffectedCropPanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="387 "></span><span class="w">      </span><span class="nx">FCTaffectedPanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="388 "></span><span class="w">      </span><span class="nx">FCTaffectedDatePanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="389 "></span><span class="w">      </span><span class="nx">FCTaffectedPopPanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="390 "></span><span class="w">      </span><span class="nx">FCTaffectedCropPanel</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="391 "></span><span class="w">      </span><span class="nx">legendintro</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="392 "></span><span class="w">      </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="393 "></span><span class="w">        </span><span class="nx">layout</span><span class="o">:</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Layout</span><span class="p">.</span><span class="nx">flow</span><span class="p">(</span><span class="s1">&#39;horizontal&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos="394 "></span><span class="w">        </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="395 "></span><span class="w">          </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="396 "></span><span class="w">            </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="397 "></span><span class="w">              </span><span class="nx">legendRainfall</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="398 "></span><span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="399 "></span><span class="w">          </span><span class="p">}),</span><span class="w"></span>
<span class="linenos" data-linenos="400 "></span><span class="w">          </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="401 "></span><span class="w">            </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="402 "></span><span class="w">              </span><span class="nx">legendCategory</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="403 "></span><span class="w">              </span><span class="nx">legendProbability</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="404 "></span><span class="w">              </span><span class="nx">legendAlert</span><span class="w"></span>
<span class="linenos" data-linenos="405 "></span><span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="406 "></span><span class="w">          </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="407 "></span><span class="w">        </span><span class="p">]</span><span class="w"></span>
<span class="linenos" data-linenos="408 "></span><span class="w">      </span><span class="p">})</span><span class="w"></span>
<span class="linenos" data-linenos="409 "></span><span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="410 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;350px&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;8px&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="411 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="412 "></span>
<span class="linenos" data-linenos="413 "></span><span class="w">  </span><span class="nx">ui</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">widgets</span><span class="p">().</span><span class="nx">reset</span><span class="p">([</span><span class="w"></span>
<span class="linenos" data-linenos="414 "></span><span class="w">    </span><span class="nx">mainPanel</span><span class="p">,</span><span class="w"> </span><span class="nx">mainMap</span><span class="w"></span>
<span class="linenos" data-linenos="415 "></span><span class="w">  </span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos="416 "></span><span class="w">  </span><span class="nx">ui</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">setLayout</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Layout</span><span class="p">.</span><span class="nx">flow</span><span class="p">(</span><span class="s1">&#39;horizontal&#39;</span><span class="p">));</span><span class="w"></span>
<span class="linenos" data-linenos="417 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">setControlVisibility</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="418 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">setCenter</span><span class="p">(</span><span class="mf">118.2</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="w"> </span><span class="mf">5.4</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="419 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="420 "></span><span class="w">    </span><span class="nx">widgets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="linenos" data-linenos="421 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">daySelect</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="422 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">renderButton</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="423 "></span><span class="w">      </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">downloadButton</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="424 "></span><span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="linenos" data-linenos="425 "></span><span class="w">    </span><span class="nx">layout</span><span class="o">:</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Layout</span><span class="p">.</span><span class="nx">Flow</span><span class="p">(</span><span class="s1">&#39;horizontal&#39;</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos="426 "></span><span class="w">    </span><span class="nx">style</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bottom-left&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="427 "></span><span class="w">  </span><span class="p">}));</span><span class="w"></span>
<span class="linenos" data-linenos="428 "></span><span class="w">  </span><span class="nx">mainMap</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">dateSlider</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="429 "></span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos="430 "></span>
<span class="linenos" data-linenos="431 "></span><span class="nx">initializeUIComponents</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<h2 id="data-downloads">Data Downloads</h2>
<p>This download feature is not available in the app version, and only accessible via GEE code user interface. To access this feature, you must have an access to GEE.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="  1 "></span><span class="c1">// DATA DOWNLOADS</span><span class="w"></span>
<span class="linenos" data-linenos="  2 "></span><span class="c1">//---</span><span class="w"></span>
<span class="linenos" data-linenos="  3 "></span><span class="c1">// Download all layer output to Google Drive</span><span class="w"></span>
<span class="linenos" data-linenos="  4 "></span><span class="kd">function</span><span class="w"> </span><span class="nx">downloadMap</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="  5 "></span>
<span class="linenos" data-linenos="  6 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">_numday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">daySelect</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span><span class="w"></span>
<span class="linenos" data-linenos="  7 "></span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">_numday</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos="  8 "></span><span class="w">    </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos="  9 "></span><span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="linenos" data-linenos=" 10 "></span>
<span class="linenos" data-linenos=" 11 "></span><span class="w">  </span><span class="c1">// Day of simulation</span><span class="w"></span>
<span class="linenos" data-linenos=" 12 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="linenos" data-linenos=" 13 "></span><span class="w">    </span><span class="s1">&#39;1 day&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 14 "></span><span class="w">    </span><span class="s1">&#39;2 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 15 "></span><span class="w">    </span><span class="s1">&#39;3 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 16 "></span><span class="w">    </span><span class="s1">&#39;4 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 17 "></span><span class="w">    </span><span class="s1">&#39;5 days&#39;</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="w"></span>
<span class="linenos" data-linenos=" 18 "></span><span class="w">  </span><span class="p">}[</span><span class="nx">_numday</span><span class="p">];</span><span class="w"></span>
<span class="linenos" data-linenos=" 19 "></span>
<span class="linenos" data-linenos=" 20 "></span><span class="w">  </span><span class="c1">// As the download request probably takes some time, we need to warn the user,</span><span class="w"></span>
<span class="linenos" data-linenos=" 21 "></span><span class="w">  </span><span class="c1">// so they not repeating click the download button</span><span class="w"></span>
<span class="linenos" data-linenos=" 22 "></span><span class="w">  </span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;If you see this message, the download request is started! Please go to Tasks, wait until the download list appear. Click RUN for each data you want to download&quot;</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos=" 23 "></span>
<span class="linenos" data-linenos=" 24 "></span><span class="w">  </span><span class="c1">// Downloading data</span><span class="w"></span>
<span class="linenos" data-linenos=" 25 "></span><span class="w">  </span><span class="c1">// Export the result to Google Drive</span><span class="w"></span>
<span class="linenos" data-linenos=" 26 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">download_date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="nx">uiComponents</span><span class="p">.</span><span class="nx">dateSlider</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()[</span><span class="mf">0</span><span class="p">]);</span><span class="w"></span>
<span class="linenos" data-linenos=" 27 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">download_date</span><span class="p">;</span><span class="w"></span>
<span class="linenos" data-linenos=" 28 "></span>
<span class="linenos" data-linenos=" 29 "></span><span class="w">  </span><span class="c1">// Near Real Time Result</span><span class="w"></span>
<span class="linenos" data-linenos=" 30 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imageNRT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRainfallExtremeImage</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 31 "></span><span class="w">    </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="nx">dt</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 32 "></span><span class="w">    </span><span class="nx">numday</span><span class="o">:</span><span class="w"> </span><span class="nx">numday</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 33 "></span><span class="w">    </span><span class="nx">imgBase</span><span class="o">:</span><span class="w"> </span><span class="nx">getImergImage</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 34 "></span><span class="w">    </span><span class="nx">rainfallColumn</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;precipitationCal&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 35 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 36 "></span><span class="w">  </span><span class="c1">// Forecast Result</span><span class="w"></span>
<span class="linenos" data-linenos=" 37 "></span><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">imageFCT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getRainfallExtremeImage</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 38 "></span><span class="w">    </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="nx">dt</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 39 "></span><span class="w">    </span><span class="nx">numday</span><span class="o">:</span><span class="w"> </span><span class="nx">numday</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 40 "></span><span class="w">    </span><span class="nx">imgBase</span><span class="o">:</span><span class="w"> </span><span class="nx">getGfsImage</span><span class="p">(</span><span class="nx">dt</span><span class="p">,</span><span class="w"> </span><span class="nx">numday</span><span class="p">),</span><span class="w"></span>
<span class="linenos" data-linenos=" 41 "></span><span class="w">    </span><span class="nx">rainfallColumn</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;total_precipitation_surface&#39;</span><span class="w"></span>
<span class="linenos" data-linenos=" 42 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 43 "></span>
<span class="linenos" data-linenos=" 44 "></span><span class="w">  </span><span class="c1">// Near Real-Time Precipitation</span><span class="w"></span>
<span class="linenos" data-linenos=" 45 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 46 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">rainfall</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 47 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NRT_Precipitation_last_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_as_of_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 48 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 49 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 50 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 51 "></span>
<span class="linenos" data-linenos=" 52 "></span><span class="w">  </span><span class="c1">// Forecast Precipitation</span><span class="w"></span>
<span class="linenos" data-linenos=" 53 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 54 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">rainfall</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 55 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;FCT_Precipitation_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_ahead_issued_on_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 56 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 57 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 58 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 59 "></span>
<span class="linenos" data-linenos=" 60 "></span><span class="w">  </span><span class="c1">// Near Real-Time Extreme Precipitation (exceeding the threshold)</span><span class="w"></span>
<span class="linenos" data-linenos=" 61 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 62 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">impact</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 63 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NRT_ExtremePrecip_last_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_as_of_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 64 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 65 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 66 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 67 "></span>
<span class="linenos" data-linenos=" 68 "></span><span class="w">  </span><span class="c1">// Forecast Extreme Precipitation (exceeding the threshold)</span><span class="w"></span>
<span class="linenos" data-linenos=" 69 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 70 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">impact</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 71 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;FCT_ExtremePrecip_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_ahead_issued_on_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 72 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 73 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 74 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 75 "></span>
<span class="linenos" data-linenos=" 76 "></span><span class="w">  </span><span class="c1">// Near Real-Time Likelihood of Pixel will be Inundated</span><span class="w"></span>
<span class="linenos" data-linenos=" 77 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 78 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">prob</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 79 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NRT_Likelihood_last_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_as_of_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 80 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 81 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 82 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 83 "></span>
<span class="linenos" data-linenos=" 84 "></span><span class="w">  </span><span class="c1">// Forecast Likelihood of Pixel will be Inundated</span><span class="w"></span>
<span class="linenos" data-linenos=" 85 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 86 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">prob</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 87 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;FCT_Likelihood_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_ahead_issued_on_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 88 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 89 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 90 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 91 "></span>
<span class="linenos" data-linenos=" 92 "></span><span class="w">  </span><span class="c1">// Near Real-Time Extreme Rainfall-triggering Flood</span><span class="w"></span>
<span class="linenos" data-linenos=" 93 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos=" 94 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageNRT</span><span class="p">.</span><span class="nx">re</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos=" 95 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;NRT_FloodAlert_last_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_as_of_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 96 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos=" 97 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos=" 98 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos=" 99 "></span>
<span class="linenos" data-linenos="100 "></span><span class="w">  </span><span class="c1">// Forecast Extreme Rainfall-triggering Flood</span><span class="w"></span>
<span class="linenos" data-linenos="101 "></span><span class="w">  </span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="w"></span>
<span class="linenos" data-linenos="102 "></span><span class="w">    </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">imageFCT</span><span class="p">.</span><span class="nx">re</span><span class="p">,</span><span class="w"></span>
<span class="linenos" data-linenos="103 "></span><span class="w">    </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;FCT_FloodAlert_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">numday</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;day_ahead_issued_on_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">download_date</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">).</span><span class="nx">getInfo</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos="104 "></span><span class="w">    </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="nx">IMERGprojection</span><span class="p">.</span><span class="nx">nominalScale</span><span class="p">(),</span><span class="w"></span>
<span class="linenos" data-linenos="105 "></span><span class="w">    </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e12</span><span class="w"></span>
<span class="linenos" data-linenos="106 "></span><span class="w">  </span><span class="p">});</span><span class="w"></span>
<span class="linenos" data-linenos="107 "></span>
<span class="linenos" data-linenos="108 "></span><span class="w">  </span><span class="nx">print</span><span class="p">(</span><span class="s1">&#39;Data Downloaded!&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">download_date</span><span class="p">);</span><span class="w"></span>
<span class="linenos" data-linenos="109 "></span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>End of script. Find the complete code via this link <a href="https://code.earthengine.google.com/fb7cc9b41222334c47be6d6b23d70829">https://code.earthengine.google.com/fb7cc9b41222334c47be6d6b23d70829</a></p>
<p><strong>Notes</strong></p>
<p>The GEE script is written by Benny Istanto and Ridwan Mulyadi. Both are working as Climate Analyst and System Developer at VAM unit, UN WFP Indonesia. UPDATE: Benny Istanto is no longer with WFP since August 2021.</p>


  




              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../erc/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Extreme rainfall calculation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Extreme rainfall calculation
            </div>
          </div>
        </a>
      
      
        
        <a href="../example/" class="md-footer__link md-footer__link--next" aria-label="Next: Example" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Example
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "navigation.expand", "navigation.top", "toc.integrate"], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.2ab50757.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>